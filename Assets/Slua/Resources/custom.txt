
MonoBehaviour = UnityEngine.MonoBehaviour
GameObject = UnityEngine.MonoBehaviour
local ffi = require("ffi")
--local bit = require("bit")
--local jit = require("jit")

function main()


	local s,c=Custom.staticCustom();
	print(s,c)

	local a,b,x=c:instanceCustom()
	print(a,b,x)

	-- Type parameter can be pass in as string/type table
	print(c:getTypeName("UnityEngine.MonoBehaviour,UnityEngine"))
	print(c:getTypeName(MonoBehaviour))
	print(c:getTypeName(Custom))

	-- Test getItem setItem
	print("---<"..c:getItem("test"))
	c:setItem("test",10)
	print("-->"..c:getItem("test"))
	c:setItem("a",100)
	print("-->"..c:getItem("test"))

	-- Test loadstring
	local str = Custom.loadstring('loadstring_lua')
	local t = assert(loadstring(str))()
	print(t)

end